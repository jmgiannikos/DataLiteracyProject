.
m
"
l/l
r 
m 
 yr 
/bdocument/
khorrami et al.  image modeling of compact starburst clusters: r136
zeinab.khorrami@oca.eu
laboratoire lagrange, université côte d'azur, observatoire de la côte d'azur, cnrs,
boulevard de l'observatoire, f-06304 nice, france
zeinab.khorrami@oca.eu
continuous progress in data quality from hst, recent multiwavelength high resolution spectroscopy and high contrast imaging from ground adaptive optics on large telescopes need exhaustive modeling of r136 to better understand its nature and evolutionary stage.
  
  to produce the best synthesized multiwavelength images of r136 we need to simulate the effect of dynamical and stellar evolution, mass segregation and binary stars fraction on the survival of young massive clusters with the initial parameters of r136 in the lmc, being set to the state of the art knowledge of this famous cluster.
  we produced a series of 32 young massive clusters using the nbody6 code. each cluster was tracked with adequate temporal samples to correctly follow the evolution of r136 during its early stages. 
to compare the results of the nbody6 simulations with observational imaging data, we created the synthetic images from the output of the code.
we used the tlusty (for massive o and b stars) and kurucz (for other spectral types) model atmospheres to produce the fluxes in hst/ wfpc2 filters. geneva isochrones grids were used to track the evolution of stars.
then, we derived the observable parameters from synthetic scenes at the spatial resolution of hst/wfpc2 in the f814w filter corresponding to 790.48nm central wavelength. surface brightness profile of the cluster, half-light radius, mass function and neighbor radius were used as criteria to select the best representation of r136.
we compared the simulations of r136 to its hst imagery in recent years by creating synthetic scenes at the same resolution, pixel scale and fov of the hst. we applied the same photometric analysis of the images as of the real ones. having extracted the stellar sources, we estimated the mass-function (mf), the surface brightness profile (sbp), the half-light radius and the neighbor radius,  across r136. the interpretation of these four criteria point to the fact that an initially non-segregated cluster scenario is more representative of r136. this result pleads for the formation of massive stars by accretion rather than by collision.
  
  
image modeling of compact starburst clusters the effect of primordial mass segregation, binary fraction and stellar evolution on the evolution of massive clusters on their early life-stages: i. r136 
    z. khorrami 1  f. vakili 1  o. chesneau 1 
=======================================================================================================================================================================================================
§ introduction
r136 is known to be a very massive (), young star cluster at the center of 30 doradus star forming region in the lmc. this cluster is remarkable for its large number of massive stars formed in a relatively small volume (). 
the total number of o3 stars in this cluster, at least 41, exceeds the total number known elsewhere in the milky way or magellanic clouds (). 
the wn stars in r136 are presumably core h-burning stars that mimic wr-like spectra due to their very high intrinsic luminosity. here the individual luminosities are a factor of 10 higher than those of normal wn stars of similar type, only encountered in the galactic cluster ngc3603, that they also resemble spectroscopically (). 
r136 is outranking among other clusters in three aspects:
1) it is massive enough to produce such very massive stars as a relationship appears between the mass of a cluster and its highest-mass stars (, ).
2) it is young enough for its massive members to be observed. the age of the cluster in the core is myr (, , ).
3) it is close enough to be spatially resolved. we considered the distance of 48.5 kpc for our simulations which agrees well with  and .
therefore r136 can provide clues to understand the unsolved problems of formation and evolution of massive stars and star clusters, initial distribution of stellar masses at birth (imf), if the massive stars tend to be formed locally in the center of the cloud (mass segregation) and the binary-multiple fraction of these stars as this property can impact the rate of sne produced soon after a few myr evolution of such clusters.
in the present study, unlike usual studies of r136 in the literature (), we have adopted a new approach to unveil the different facets of r136. 
our approach is primarily motivated by the fact that presently operated 8-10m class optical telescopes and foreseen extremely large telescopes like e-elt should deliver diffraction limited visible and ir images of crowded field clusters such as r136.
having this in mind we created a series of simulated multi-color images of r136 from the output of the numerical dynamical model (nbody6 code, ). in this work, we present the results from the comparison of the hst/wfpc2 imaging data with synthesized images  from the output of the nbody6 simulations at the age of 2 myr. 
for this we used geneva stellar evolution models () and tlusty () or kurucz () model atmospheres depending on the spectral type of stars to calculate their flux in wfpc2/f814w filter at the age of 2 myr.
the present paper is organized as followings. in section  we shortly describe the nbody6 code with special emphasis on the options and parameters that are relevant to the present work. we outline the initial conditions from which the evolution of r136 can be simulated and recorded following different tracks. 
section  describes the results of these simulations, including their observational aspects.
these results are compared to the hst observations 
[based on observations made with the nasa/esa hubble space telescope, obtained from the data archive at the space telescope institute. stsci is operated by the association of universities for research in astronomy, inc. under the nasa contract nas 5-26555.]
in section . we introduce our method to create the synthetic images from the output of the nbody6 code. for this comparison we define a number of criteria applied to simulated scenes from hst versus observed scenes. 
the relevance of the comparisons is then discussed in the section . while we derive some general and preliminary results in perspective of high dynamic, high dynamic and spatially resolved images of r136 to become soon available with sphere and gpi in the coming years in section  .
§ modeling a young massive star cluster
we used nbody6[http://www.ast.cam.ac.uk/ sverre/web/pages/nbody.htm] code which includes the individual stellar equations of motion for all members of the cluster without any simplifying assumption and approximation (). we remind that nbody6 integrates the particle orbits using the highly accurate fourth-order hermite scheme and deals with the diverging gravitational forces in close encounters through regularizations. in addition, this code can track the evolution of the individual stars since it employs the well-tested single star evolution (sse) and binary star evolution (bse) recipes ( and ).
the whole modeling intends to better understand the nature of r136 as it can be imaged nowadays, by taking into account the parameters and different mechanisms  that drive the evolution of the cluster such as the degree of initial mass segregation, initial binary fraction, lower/upper stellar masses and stellar evolution. the initial parameters for r136 have been set to the values that represent the best this cluster according to its general properties.
§.§ physical conditions and mechanisms
stellar clusters are born embedded in giant molecular clouds, with a few percent of them surviving and becoming bound clusters (). it is generally admitted that the fate of the clusters must occur during the early stages of their evolution. in massive star-burst clusters, such as r136,  dynamical evolution of the cluster can be affected by their significant number of massive stars. the initial distribution of these massive stars (mass segregation) in space, specially if they form in binary systems, plays an important role on the evolution of the cluster. 
in order to include such effects, we simulated full segregated clusters (in which most massive stars are located deeper in the core) versus non-segregated clusters (in which the massive stars are randomly distributed in space). the result of these simulations can tell us if r136 is more similar to an initially segregated cluster or not. a result that should put important constraints on theories of massive star formation and the cluster consequent evolution as a whole.
following clusters without initial binaries, we also considered clusters with 30 and 60 % initial binaries which is not far from the observation as lower-limit of the spectroscopic binaries detected in the clusters of 30 dor is found to be 45% (). 
finally, by comparing the results from clusters with and without stellar evolution, one can check for the effect of stellar evolution on the binaries and the dynamical effect of the binaries themselves on the evolution of the cluster.  
§.§ initial conditions
initial setup of the clusters made by mcluster [https://ahwkuepper.wordpress.com/mcluster/]().
the simulation time is limited to an age of 4 myr with 0.1myr time-steps. the total mass of the cluster is estimated (selman & melnick 2013) to be in the range of:
therefore we adopt the total mass of the cluster to be . kroupa imf with mass ranging between  or   to . for the density profile we adopted plummer model (). simulated clusters are assumed isolated and not impacted by tidal fields (tf=0). the initial half mass radius of the clusters is 0.8 pc. and finally the metallicity of lmc (r136) is taken as half of the solar metallicity.
all the clusters are in virial equilibrium  as  find that r136 is in virial equilibrium.
the set-up of the numerical experimentations is as follows: half of the clusters are segregated (s=1.0) and the others are non-segregated (s=0.0). we adopted 60%, 30% and 0% percent of initial binary  for the simulated clusters.
there will be two groups of clusters. these groups are totally similar to each other (even the initial position and velocity of stars) but for one group stellar evolution is on and for other group stellar evolution is off to see the effect of stellar evolution (table ). 
table  depicts the main characteristics of simulated clusters. 
the first column is the name of the cluster. the second column says if stellar evolution is on or off. column 3 corresponds to the degree of mass segregation, 0.0 means non-segregation and 1.0 means the cluster is fully segregated. the fourth column corresponds to the binary fraction.  the fifth column defines the number of initial binaries.  and  are the lower and upper mass cutoff respectively of initial mass function (the canonical kroupa,  ) and n is the initial number of stars. 
for the initial number of binaries we used random pairing but separate pairing for components with . in this way, pairing of primary and secondary components of binary stars above  are randomly paired among each other. the motivation for this lies in extensive observational data showing that massive o, b stars are more likely  to be found in an equal mass binary system ().  is equal to  in agreement with . more detail about semi-major axis and period distribution of binaries can be found in section .
the period distribution was taken from the  period distribution since it unifies the observed galactic field and pre-main sequence populations (see also ). but for massive binaries with  we used the period distribution from sana&evans 2011 since the period distribution of massive o,b spectroscopic binaries has been found to be significantly different from what is observed for low-mass binaries (). massive binaries are found to have short periods in the range from 2 days to 10 years with a peak at 10 days.
eccentricities are assumed to have a thermal distribution i.e. f(e)=2e () and for the eccentricities of high mass binaries the distribution is taken according to , leading to the computation of the semi-major axis (a) of each binary.
model     se     seg     bf                   
s00seg00bin05m150     on    0.0     0.0     0   0.5    150     55992  
d00seg00bin05m150     off    0.0     0.0     0   0.5    150     55992 
s10seg00bin05m150     on    1.0     0.0     0   0.5    150     55815 
d10seg00bin05m150     off    1.0     0.0     0   0.5    150     55815 
s00seg03bin05m150     on    0.0     0.3     8404   0.5    150     56032 
d00seg03bin05m150     off    0.0     0.3     8404   0.5    150     56032 
s10seg03bin05m150     on    1.0     0.3     8536   0.5    150     56908 
d10seg03bin05m150     off    1.0     0.3     8536   0.5    150     56908 
s00seg06bin05m150     on    0.0     0.6     17000   0.5    150     56669 
d00seg06bin05m150     off    0.0     0.6     17000   0.5    150     56669 
s10seg06bin05m150     on    1.0     0.6     16686   0.5    150     55622 
d10seg06bin05m150     off    1.0     0.6     16686   0.5    150     55622 
s00seg00bin02m150     on    0.0     0.0     0   0.2    150     105666 
d00seg00bin02m150     off    0.0     0.0     0   0.2    150     105666 
s10seg00bin02m150     on    1.0     0.0     0   0.2    150     107722 
d10seg00bin02m150     off    1.0     0.0     0   0.2    150     107722
s00seg03bin02m150     on     0.0      0.3     16134   0.2    150     107565 
d00seg03bin02m150     off    0.0     0.3     16134   0.2    150     107565 
s10seg03bin02m150     on      1.0     0.3     16084   0.2    150     107230 
d10seg03bin02m150     off    1.0     0.3     16084   0.2    150     107230 
s00seg06bin02m150     on     0.0      0.6     32225   0.2    150     107419 
d00seg06bin02m150     off    0.0     0.6     32225   0.2    150     107419 
s10seg06bin02m150     on      1.0     0.6     32309   0.2    150     107698 
d10seg06bin02m150     off    1.0     0.6     32309   0.2    150     107698 
different simulated clusters grouped by minimum mass. total mass of the clusters is . summary of naming convention for these simulated clusters is explained hereafter: 
eginitemize
1 : s means stellar evolution is on and d means stellar evolution is off (pure dynamically evolution).
2 : number before seg shows the degree of mass segregation. 10 seg means fully segregated and 00 seg means non-segregated.
3 : number before bin shows the initial binary fraction. 03 bin means 0.3 binary fraction (30 percent of binaries) and 00 bin means no initial binaries.
4 : the numbers before and after m shows the mass range. the first number before m can be 01 which means the low mass cutoff is  or it can be 10 which means the low mass cutoff is  and the second number after m can be 100 which means the maximum mass of the particles is  or it can be 300 which mean the maximum mass is .
so name s10seg03bin01m100 stand for a cluster with stellar evolution is on and it is fully segregated with 0.3 binary fraction and mass range between  to . also d00seg00bin10m300 means this cluster evolves just dynamically without stellar evolution and it is not initially segregated without any initial binaries and mass range between  to .
§ results of the simulations
§.§ expansion of the cluster
figure  shows the evolution of half mass radii of 24 simulated clusters in 4 myr. the upper plots correspond to clusters with a mass distribution in the range of  and bottom plots correspond to clusters with mass distribution in the range of . from left to right the plots depict clusters with 0%, 30% and 60% initial binaries.
it can be seen in all plots that segregated clusters expand more than non-segregated ones. stellar evolution plays also an important role in the expansion of the cluster, especially around 3-3.5 myr on the evolution of massive stars and their high mass-loss. clusters which contain more massive stars, present a larger expansion. this can be checked by comparing the half-mass radius evolution of clusters with pure dynamical evolution (d-clusters). at the same time, changing the binary fraction does not affect the expansion of the clusters in a significant way.
[]half-mass radius evolution of different clusters within 4 myr. up: mass range of . down: . left: no initial binaries, middle: 30%  initial binaries, right: 60%  initial binaries.  green and blue: non-segregated; pink and red: segregated.
§.§ escapers and cluster's mass loss
clusters lose mass due to escaping stars and also if stellar evolution is on, which drives the mass-loss of massive stars. figure  shows the total mass loss of each cluster per time-step. left plots correspond to clusters in the mass range of  and right plots for . upper, middle and bottom plots represent clusters with 0%, 30%  and 60% initial binaries. 
the mass-loss of the clusters with stellar evolution (hereafter call s-clusters) is much larger than the clusters without stellar evolution (here after call d-clusters) especially around time 3.5 myr which is a time when massive stars () turn out to supernova events. clusters on the left with  contain indeed more massive stars than clusters at the right (with ), so for these clusters mass loss is more than for clusters with .
that for d-clusters the number of escapers increases with the increasing binary fraction.
[]total mass loss of the clusters per time-step. left: mass range of . right: mass range of . upper, middle and bottom plots represent clusters with 0%, 30%  and 60% initial binaries. the numbers at the top of each bin correspond to the number of escapers.
green and blue: non-segregated; pink and red: segregated.
stellar evolution is on for green and red, and off for blue and red. 
§.§ binary fraction
figure  shows the fraction of bound binary systems for different clusters versus time.
segregated clusters lose less binaries than non-segregated clusters.
it seems that the segregated clusters are safer places for binaries to be survive. it can be explain by two main reasons: location of the binaries and their neighbors.
in segregated clusters binaries are located deeper in the cluster and they interact mostly with the same-mass neighbors so the chance to be disrupted by single massive star and massive binaries decreases in segregated clusters. also when a binary is disrupted in the segregated cluster, if it is going to be ejected/evaporated from cluster, it has to pass from a outer layer of the cluster which is contaminated by single stars. this star still has a chance to interact with single stars and remain in the cluster which decreases the evaporation probability. this is not a case for non-segregated clusters.
for clusters with 30% binaries it can be seen that if they contain more low mass stars and less massive binaries (the case of clusters with ), they lose more binaries than clusters with .
[]fraction of bound binary systems for different clusters in each time-steps. 
left, up: clusters with mass range of  and 30% initial binaries.
right, up: clusters with mass range of  and 30% initial binaries.
left, down: clusters with mass range of  and 30% initial binaries.
right, down: clusters with mass range of  and 60% initial binaries.
green and blue: non-segregated; pink and red: segregated.
stellar evolution is on for green and red, and off for blue and red. 
§.§ periods and eccentricities
figure  shows the histogram of periods in units of days (logarithmic) in six time-steps for 16 clusters which contain 30% and 60% initial binaries. different colors represent different times. for example red plot is at the time of 0.0 myr which is the initial distribution of periods that we have chosen according to observations reported in literature (see section ). it is a bimodal distribution, for low mass binaries it is kroupa distribution and for massive o, b binaries it is sana&evans 2011 which exhibits in its a first part a peak around 10 days.
evolution of the first part is according to stellar evolution, that is why it is not visible in d-clusters. evolution of second part is according to the dynamics of the cluster, that is wht we see this for both s-clusters and d-clusters.
almost half of the low-mass binaries dissolve within 1 myr. 
figure  shows the evolution of eccentricity distributions in 6 time-steps for 16 clusters which contain 30% and 60% initial binaries. initial distribution (t = 0.0 myr) is the red plot. like the period distribution, eccentricities also have a bimodal distributions, for low-mass and massive binaries (with a peak close to e=0.0). stellar evolution, affects the evolution of the first peak (for massive binaries) that is why for d-clusters the peak does not evolve. for low-mass binaries, during the evolution (in different time-steps) the distribution keeps the memory of the initial distribution for different eccentricities.
for period distribution, after 2-3 myr the new distribution could keep the memory of initial distribution of massive binaries not for low-mass binaries. but for eccentricity distribution, cluster keeps the memory of initial distribution of eccentricities.
[]histogram of the log(period [days]) of bound binary systems for different clusters in 6 time-steps (0.0, 1.0, 2.0, 3.0, 3.5 and 3.9 myr). 
left, up: 4 clusters with mass range of  and 30% initial binaries.
right, up: 4 clusters with mass range of  and 60% initial binaries.
left, down: 4 clusters with mass range of  and 30% initial binaries.
right, down: 4 clusters with mass range of  and 60% initial binaries. 
[]histogram of the eccentricity of bound binary systems for different clusters in 6 time-steps (0.0, 1.0, 2.0, 3.0, 3.5 and 3.9 myr). 
left, up: 4 clusters with mass range of  and 30% initial binaries.
right, up: 4 clusters with mass range of  and 60% initial binaries.
left, down: 4 clusters with mass range of  and 30% initial binaries.
right, down: 4 clusters with mass range of  and 60% initial binaries. 
§ comparison with observations
for r136, the main observational data result from imaging in different filters. from these data, one can estimate the mass of stars and compare the density profile with simulations. in such an approach errors can dramatically increase from converting magnitudes to mass as the theoretical evolutionary models may not provide enough information for very massive and wolf-rayet stars specially. on the other hand, we probably cannot detect many low mass stars during the photometry. moreover, if the detected object is a binary then estimated mass is biased.
at this point of our study we prefer to produce the imaging data from the simulations with the spatial resolution of hst/wfpc2 data from r136. hst/wfpc2 observations of r136 were carried out on 1994-09-25 (pi: westphal), from which
we use a combination of shallow, intermediate and long exposures ranging from 3–5 s
to 80–120 s with the planetary camera (pc) and the f814w filter. 
so we wrote a code which reads the information of stars from the nbody6 simulations as an input and creates the synthetic scenes that mimic hst/wfpc2 resolution in different hst filters. during this simulation we also need proper stellar evolution models and atmospheric models for calculating bolometric correction (bc) of different hst/wfpc2 filters. we created sets of bc tables at the age of 2 myr using geneva stellar evolution models [http://webast.ast.obs-mip.fr/equipe/stellar/] . for calculating bcs we used seds from tlusty atmosphere models for o and b stars [model atmospheres and source codes are
available at http://nova.astro.umd.edu](,,) and kurucz[atlas9 kurucz odfnew /nover models]() for the rest of the stellar types with a half-solar metallicity appropriate for lmc stars. 
tlusty provides grids of non-lte, metal line– blanketed, plane-parallel, hydrostatic model atmospheres which is well suited for the very massive stars specially in visible and near-ir.
at a given time (2 myr) it is possible to calculate the flux (in different hst filters) for each star in the simulation using computed bc tables. we simulated a 800x800 pixels scene corresponding to a field of 32.5"x32.5" on the detector where a star with a given flux falls on the detector with a gaussian distribution as the psf profile.
figure - show synthetic scenes of 12 simulated clusters at time 2 myr both in xy and xz plane. one can compare the synthetic images with real hst/wfpc2 data on r136 shown in figure . both images are in f814w filters.
however the question is at what degree a simulated cluster with thousands of stars within a given volume projected once on the sky to  reproduce hst image of r136. what is the best criterion to select the closest simulated cluster to r136?
one useful way is to compare the surface brightness profile (sbp) of r136 to those of synthetic scenes (section ). it is also possible to compare the half-light radius () of r136 and synthetic scenes (section ). in section  we compared the mass function (mf) slopes of r136 with the mf slopes from simulations.  the mf is not directly derived from simulation. the mass of stars in the fov is estimated by the photometry on the synthetic scenes and we used the bc-tables for finding the mass of each detected star in a given field.
in section  we introduce a new definition for double checking. in this section we calculate a neighbor radius () of each star in each cluster which is a radius containing for example, 100 neighbor stars. in a crowded regions (in the core) this radius is very short for each star while in outer regions it can be larger.
[]synthetic scenes from simulation of s-clusters with the mass range of  and 0% initial binaries at time 2 myr. not segregated: left images; segregated clusters: middle images;  top is in xz plane and bottom is in xy plane. r136 image taken by hst/wfpc2-pc in f814w filter is in the right top. 
§.§ sbp of r136
figure  shows the sbp of r136. it can be seen that at some radial distances from the core of the cluster the sbp suddenly increases with a significant deviation from the general trend. we checked for the distribution of the spectral type of r136 stars in the fov of hst/wfpc2-pc imaging data and we found 9 wr stars . figure  shows the radii at which a given wr is detected.
for synthetic scenes we have calculated the sbps in the same regions as r136. figure  shows the sbps of the simulated r136 versus its simulated twin (pink stars). 
to determine the closest sbp value of the simulated to the observed r136 we calculated the  for each cluster in three regions in addition to the whole cluster. table  (simulated scenes in xz plane) and table   (simulated scenes in xy plane) depict the  values. clusters with the smallest value have an sbp more closer to that of r136. thus the non-segregated clusters match better r136 in all regions.
one can consider the cumulative sbp of r136 and compare it with cumulative sbp of r136. as this cumulative value smooths the sbp, it hides the details of the profile but we calculate this function for both r136 hst data and simulations. the results are given as an example in appendix .
[]sbp of r136 in two filters f814w and f555w. 9 wr stars are shown in the plot. 
[]sbp from simulations at time 2 myr for different sets of clusters in a mass range of  (upper plots) and  (bottom plots). right is the synthetic scenes created in xy plan and left belongs to xz plan. solid lines belong to initial non-segregated clusters and dashed lines represent initial segregated clusters.
pink stars shows the sbp of r136 from wfpc2-pc data. reddening is corrected for the hst data.
non segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
 
reg1:        0.165324        0.105162        0.113661        0.243965        0.338743        0.275119   
reg2:          0.310922        0.592480        0.420130        3.60058         3.51407         3.23245     
reg3:       2.00193         2.23264         2.25797         8.67890         11.7996         8.54216    
total:         2.46867         2.68223         2.60257         12.4118         14.6848         11.3888   
non segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
 
reg1:       0.234170       0.278665        0.199646        0.315313        0.327533        0.378822
reg2:      0.282935        0.481584        0.310920        1.56187         1.53784         1.77578
reg3:       1.36780         1.53290         1.33918         8.44827         7.46168         4.86113
total:          1.83876         2.18597         1.84632         10.0084         9.22575         6.49839
of sbp of simulated scenes at 2 myr in xz plane in three different regions and for the whole cluster. the smallest value is the closest one to sbp of r136. 
  
non segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
reg1:       0.134300        0.121093        0.109488        0.296658        0.288149        0.291632 
    
reg2:          0.313673        0.345682        0.233337         3.53505         3.24678         3.14732     
reg3:       2.24570         2.98828         2.46877         9.67167         11.5166         11.6881      
total:         2.64560         3.44385         2.80842         12.8372         14.2383         14.1527      
non segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
  
reg1:       0.199056        0.277567        0.201168        0.364366        0.311924        0.352169
reg2:      0.268080        0.388363        0.334479         2.08545         2.05616         1.62055
reg3:       1.24983         1.71160         2.10933         8.94076         7.85162         7.39265
total:         1.68033         2.27788         2.64436         10.9022         9.82424         9.14485
of sbp of simulated scenes at 2 myr in xy plane in three different regions and for the whole cluster. the smallest value is the closest one to sbp of r136. 
 
§.§ mf slopes
 
after having created series of synthetic scenes, in the first step photometry on each image have to be done. 
for the photometry on hst/wfpc2 data and also on the synthetic images we used starfinder () to extract the sources using analytical prepared point spread function (psf) related to the f814w filter. for hst/wfpc2-f814w we extracted 2660 stars and for the synthetic images, we extracted from 1759 up to 3193 sources depending on the scene.
using bc tables (explained in section ), we estimated the photometric mass of detected stars in each imaging data for different clusters.
furthermore we computed the mf for each simulated cluster at the evolution time of 2 myr as following: 
table  and , for the scenes in xz and xy planes respectively, show the mf slopes for three regions (, , ) and also for the whole cluster at time of 2 myr. mf slope of r136 in the same filter is as follow:
for the whole fov: 
to better compare the slopes figure  on can compare them mf between simulations and r136 (black solid line). in region 2 and 3 non-segregated simulated clusters exhibit closer values to the observed mf of r136.
not segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
reg1:                                                
reg2:                                               
reg3:                                               
total:                                               
non-segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
 
reg1:                                             
reg2:                                        
reg3:                                        
total:                                        
mf's slopes from simulated scenes at 2 myr in xz plane in three different regions and also for the the whole cluster.  
 
non-segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
 
reg1:                                         
reg2:                                         
reg3:                                        
total:                                         
non-segregated             segregated     
binary:       0%     30%     60%     0%     30%     60%
 
reg1:                                                   
reg2:                                             
reg3:                                             
total:                                             
mf's slopes from simulated scenes at 2 myr in xy plane in three different regions and also for the the whole cluster.  
  
[]mf slopes from simulated synthetic scenes at 2 myrs in xy (right plots) and xz (left plots) plane. black solid lines belong to r136 from hst/wfpc2 data taken in f814w filter. blue, green and red represents clusters with 0%, 30% and 60% initial binaries. 
§.§ half-light radius
in a next step, we estimated the half-light radius () of r136 versus those of synthetic scenes from the simulations at time 2 myr. 
in order to compare the simulated scenes to the observed r136 we computed  in the same fov as to hst imaging data (32.5"x32.5" in terms of pc). corresponding results are outlined in table . it can be seen that, unlike what  shows in the simulations, non-segregated clusters have larger half light radii than segregated ones.
at time 2myr, clusters with  have larger  than clusters with . it means that clusters with larger number of low-mass (high-mass) stars have smaller (larger) half-light radius. 
also  of the clusters with 0% and 60% initial binaries are more close together and both are larger than clusters with 30% initial binaries.
model      seg     bf                  (xy)     (xz) 
 [0.5ex]  
                [     []       [pc]     [pc] 
 [0.5ex]  
s00seg00bin05m150     0.0     0.0    0.5    150      0.43    0.50
s10seg00bin05m150     1.0     0.0    0.5    150      0.30    0.28
s00seg03bin05m150     0.0     0.3    0.5    150     0.40    0.43
s10seg03bin05m150     1.0     0.3    0.5    150     0.26    0.26
s00seg06bin05m150     0.0     0.6    0.5    150     0.46    0.48
s10seg06bin05m150     1.0     0.6    0.5    150     0.29    0.26
s00seg00bin02m150     0.0     0.0    0.2    150     0.42    0.43
s10seg00bin02m150     1.0     0.0    0.2    150     0.27    0.27
s00seg03bin02m150     0.0     0.3    0.2    150     0.36    0.38
s10seg03bin02m150     1.0     0.3    0.2    150     0.23    0.25
s00seg06bin02m150     0.0     0.6    0.2    150     0.42    0.43
s10seg06bin02m150     1.0     0.6    0.2    150     0.25    0.27
calculated for different simulated scenes at 2myr in xy and xz plane. 
§.§ neighbor radius
neighbor radius () is an arbitrary distance to find 100 neighbor stars from a given star. in the core of the cluster that has a higher stellar density, this radius is smaller than in the outer regions of the cluster. for r136 we calculated this radius for all the sources that have been detected in the hst image. we carried the same procedure on every simulated scene, with different characteristics, i.e. segregated or not, different binary fractions, etc... both in xy and xz planes. figure  and  depict the corresponding results. red dots in each plot correspond to r136, green and blue dots correspond to not-segregated and segregated clusters. one can conclude that for all the simulated scenes, non-segregated clusters better fit to the r136 by hst considering the general trend of the slope.
§ discussion of the results
we carried out a study of r136 in two steps. in a first  and as exhaustive as possible step based on the nbody6 code,  we simulated a grid of synthetic young starburst compact clusters similar to r136, starting from its state-of-the-art basic parameters: i.e. age, distance, luminosity of individual member stars. in a second step we selected the likeliest synthesized images of r136 that match the observed visible wavelengths data from hst. the choice of this image provides a set of physical properties that explain best the expansion, the mass loss of the stellar populations in r136 as well as their binary fraction for instance.
regarding the expansion of the cluster we found that in all cases segregated clusters expand more than non-segregated clusters, and that the former have larger  than the latter. clusters with stellar evolution (s-clusters) expand significantly around 3 myr because of the evolution of very massive stars, that possess for some of them extreme winds of  (). 
clusters with dynamical evolution (d-clusters) alone expand more due to the presence of more massive stars.
regarding the mass loss of the cluster and escapers: the total mass loss of s-clusters is larger than for d-clusters. this is due to the evolution of massive stars themselves whilst d-clusters undergo escapers loss only. s-clusters containing more massive stars, present a larger mass loss in their early stages of evolution. d-clusters lose more escapers as the binary fraction increases.
on the other hand segregated clusters lose more binaries than non-segregated ones and in the special case of clusters with 30% initial binaries made of low-mass stars, the binary loss is significantly larger.
concerning periods and eccentricities: almost half of the low-mass binaries dissolve within 1 myr. clusters with stellar evolution lose their massive binaries according to the evolution of massive stars themselves. in all cases binaries keep the memory of initial eccentricities distribution during the first 4 myr. for this period, only the massive binaries keep the memory of initial period distribution.
having these general properties in mind we used synthetic scenes with the same observational resolution as hst/wfpc2-pc/f814w. for this purpose we computed a grid of bolometric correction tables which provide the flux of different stars in f814w filter using geneva stellar evolution models and model atmosphere (tlusty for o,b stars and kurucz for other spectral types). these synthetic images have the same pixel scale, spatial resolution and fov of wfpc2 data on r136.
to conclude on the best  r136 from its synthesized images we used 4 different criteria based on: sbp, mf's slopes,  and .
we calculated the surface brightness profiles (sbp) of r136 and the synthetic scenes (in both xy and xz planes). a  criterion on the sbp permits to chose can the most probable synthesized r136 in three different regions and also for the whole cluster. sbp,  can easily be driven for each scene. thus, using the photometry on each synthesized r136 image, we derived the mass of detected sources and plotted the mass function (mf) and .
using the 4 criteria all together, even though they are not completely independent, we conclude that r136 is best represented by a non-segregated cluster (in ). 
this result can explain the dominant mechanism for the formation of very massive stars among two main formation scenarii of gas accretion and collision between less massive stars that are explained in details by . initially a non-segregated cluster cannot provide sufficient dense conditions and a higher mean stellar mass in the core, for collisions to occur before the final stages of massive stars evolution. presently,  no convincing evidence exists such as fragmentation, radiation pressure, photoionization and stellar winds to stop the growth of stars by accretion (). so initially non-segregated clusters may better explain the formation of massive stars by accretion.
effectively, accretion based models predict the low-mass companions, in addition to their massive companions, at separation of 100-1000 au (, , , ) while the collisionally-formed stars will lack low-mass companions. these companions can be observationally detected by using high angular resolution and high contrast instruments like vlt/sphere (), the future  e-elt where r136 would be resolved as ngc3603 by the vlt and ngc3603 resolved by the vlt as the trapezium cluster in orion by a 1-2m class telescope.
note that for the comparison of synthesized versus observed images of r136, we considered the median value of the extinction (in f814w filter) derived from 26 known o-type stars in the fov of the hst data (khorrami et al. in prep). if the spatial distribution of dust were taken into account according to the real position of massive stars in the cluster, the effect of confusion would even be worse. since massive stars are expected to clear out dust from their neighborhood, the extinction would affect the low mass stars specially. this would make them undetectable in the visible wavelengths, that introduces an additional bias on the hst images reinforcing the segregation scenrio for r136 (). 
§ conclusion
in this work we proposed a new approach to compare the results of the nbody6 code with data from high contrast imaging observations obtained on large optical telescopes at their diffraction limit. in previous studies, the direct output of the code is compared with observational material where one compares for example the density profile of hundred thousands of stars with the density of a few thousands of them  extracted from observations in practice. our method is rather based on synthesizing the observations directly from nbody6 itself. these synthesized images are matched to real observations in a final step for their likeliness.
we based our study on data taken from hst/wfpc2 archives. for this we produced simulated scenes at the resolution of hst/wfpc2-pc/f814w images) and created bc tables which provide the flux of different stars in f814w filter using geneva stellar evolution models and tlusty atmosphere model for o,b stars and kurucz model for other spectral types. these synthetic images have the same pixel scale, spatial resolution and fov as the wfpc2 data of r136 from hst. note that our modeling of stellar members atmospheres could be improved by considering more appropriate atmosphere codes for the wr components of r136, for example using grids of model atmosphere like tlusty but including winds (). on the other hand our synthesized r136 clusters could be improved for their evolution by adding time-space depending gas potential to the model. this could ideally be included in nbody6 code itself (private communication r. wunsch).
in summary our study is in favor of the r136 to be a non-segregated cluster: a result contradicting the generally accepted picture. a result that deserves more exhaustive and systematic observations of r136 to be conclusive. such observations should be carried out in as many spectral bands as possible: from the visible to optical and thermal ir wavelengths to overcome the confusion effect specially. this becomes possible using the vlt and high contrast ao imaging in the optical, future observations from space (jwst) or the e-elt (). ultimately long baseline imaging interferometry from the ground should enable us to resolve the stellar binary components of r136 or similar compact clusters.
zk is supported by the erasmus mundus joint doctorate program by grant number 2012-1710 from the eacea of the european commission. we warmly thank marcel carbillet, sambaran banerjee, andreas kupper, richard wunsch for useful discussions and fréderic thévenin for his careful reading of the original paper.
99
 [aarseth et al.1974]aarseth1974 s.j. aarseth, m. henon, r. wielen, 1974, a&a, 37, 183-187
[aarseth et al.2003]aarseth2003 aarseth, s. j. 2003, gravitational n-body simulations (cambridge: cambridge univ. press)
[ascenso et al.2003]ascenso2009 ascenso, j.; alves, j.; lago, m. t. v. t., 2009, a&a, 495, 147-155
[ banerjee & kroupa2013]banerjee2013 sambarab banerjee and pavel kroupa, 2013, apj, 764:29
[ bonnell & davies1998]bonnell98bonnell, i. a., davies, m. b. 1998, mnras, 295, 691
[ bonnell et al.2001]bonnell2001bonnell, i. a., clarke, c. j., bate, m. r., pringle, j. e. 2001, mnras, 324, 573
[ bonnell & bate2006]bonnell2006 bonnell, i. a., bate, m. r. 2006, mnras, 370, 488
[ bosch et al.2009]bosch2009bosch, g., terlevich, e., terlevich, r. 2009, aj, 137, 3437
[castelli et al.1997]kurucz97 castelli, f.; gratton, r. g.; kurucz, r. l., 1997, a&a, 318, 841
[crowther et al.2010]crowther2010 paul a. crowther, olivier schnurr, raphael hirschi, norhasliza yusof, richard j. parker, simon p. goodwin, hasan abu kassim, 2010, mnras, 408, 731-751
[de koter et al.1998]dekoter98de koter, a., heap, s. r., hubeny, i. 1997, aj, 509, 879
[diolaiti et al.2000]starfinder diolaiti, e., bendinelli, o., bonaccini, d., close, l., currie, d., parmeggiani, g. 2000, a&as, 147, 335
[gieren et al.1998]gieren98 gieren w.p., fouque ́ p., go ́mez m., 1998, apj, 496, 17
[lamers& cassinelli1999]henny99 henny j. g. l. m. lamers, joseph p. cassinelli, cambridge university press, jun 17, 1999 
[hénault-brunet et al.2012]henault12hénault-brunet v., evans c. j., sana h., gieles m., bastian n., maíz apellániz j., markova n., taylor w. d., bressert e., crowther p. a.,van loon j. t., 2012, a&a , 546, a73
[hubeny & lanz1995]tlusty95 hubeny i., lanz t. 1995, apj, 439, 875
[ hunter et al.1995]hunter95 hunter deidre a., shaya edward j., holtzman jon a., light robert m., o'neil earl j. jr., lynds roger, 1995, apj, 448, 179
[ hurley et al.2000]hurley2000hurley, j. r., pols, o. r.,  tout, c. a. 2000, mnras, 315, 543
[ hurley et al.2002]hurley2002hurley, j. r., tout, c. a.,  pols, o. r. 2002, mnras, 329, 897
[kobulnicky& fryer2007]kobulnicky2007/kobulnicky h. a., fryer c. l., 2007, apj, 670, 747
[kratter & matzner2008]kratter2006 kratter, kaitlin m.; matzner, christopher d., 2006, mnras, 373, 1563
[kratter et al.2008]kratter2008 kratter, kaitlin m.; matzner, christopher d.; krumholz, mark r., 2008, the astrophysical journal,  681, 375
[kratter et al.2010]kratter2010 kratter, kaitlin m.; matzner, christopher d.; krumholz, mark r.; klein, richard i., 2010, the astrophysical journal, 708, 1585
[kroupa2001]kroupa2001akroupa p., 2001a, mnras, 322, 231
[kroupa1995]kroupa1995akroupa p., 1995a, mnras, 277, 1491
[kroupa2008]kroupa2008kroupa p., 2008, lnp, 760, 181
[krumholz et al.2012]krumholz2012 krumholz, mark r.; klein, richard i.; mckee, christopher f., 2012, the astrophysical journal, 754
[krumholz2015]krumholzkrumholz, mark r.,"the formation of very massive stars", 2015, springer, p43
[ kupper et al.2011]kupper11 kupper, a. h. w., maschberger, t., baumgardt, h.,  kroupa, p. 2011, mnras, 417, 2300
[lada & lada2003]lada2003 lada, c. j. & lada, e. a. ,2003, annu. rev. astron. astrophys. 41, 57–115.
[lanz & hubeny2003]tlustyo lanz t., hubeny i., 2003, apjs, 146, 417
[lanz & hubeny2007]tlustyb lanz t., hubeny i., 2007, apjs, 169, 83
[lejeune & schaerer2001]geneva lejeune t., schaerer d. 2001, a&a, 366, 538
[massey2003]massey03 massey p., 2003, ara&a, 41, 15
[massey & hunter1998]massey98 massey p., hunter deidre a., 1998, apj, 493, 180
[neugent et al.2015]neugent15 neugent, k. f.; massey, p.; hillier, d. j.; morrell, n. i., 2015, to be published by universitätsverlag potsdam as part of the international workshop on wolf-rayet stars conference proceedings
[sana & evans2011]sana2011sana h., evans c. j., 2011, iaus, 272, 474
[selman et al.1999]selman99 selman, f., melnick, j., bosch, g., terlevich, r., 1999, a&a, 347, 532
 [ soummer et al.2009]soummer2009 remi soummer, anand sivaramakrishnan, ben r. oppenheimer, robin roberts, douglas brenner, alexis carlotti, laurent pueyo, bruce macintosh, brian bauman, les saddlemyer, david palmer, darren erickson, christophe dorrer, kris caputa, christian marois, kent wallace, emily griffiths, jacob mey, proc. spie 7440, techniques and instrumentation for detection of exoplanets iv, 74400r (august 19, 2009)
[weidner & kroupa2006]weidner06 weidner, c., kroupa, p. 2006, mnras, 365, 1333
[weidner et al.2010]weidner10 weidner, c., kroupa, p., bonnell, i. a. d., 2010 mnras 401, 275
[ zinnecker 2006]zinnecker2006 zinnecker, hans, the scientific requirements for extremely large telescopes, proceedings of the 232nd symposium of the international astronomical union, held in cape town, south africa, november 14-18, 2005, edited by patricia ann whitelock; michel dennefeld; bruno leibundgut. cambridge: cambridge university press, 2006., pp.324-327
[ zurlo et al.2014]zurlo2014 a. zurlo, a. vigan, d. mesa, r. gratton, c. moutou, m. langlois, r. u. claudi, l. pueyo, a. boccaletti, a. baruffolo et al. (19 more), 2014, a&a, 572, a85
§ synthetic scenes
[]synthetic scenes from simulation of s-clusters with the mass range of  at time 2 myr in xz plane. not segregated: upper images; segregated clusters: bottom images;  0% initial binaries: left; 30% initial binaries: middle; 60% initial binaries: right
[]synthetic scenes from simulation of s-clusters with the mass range of  at time 2 myr in xz plane. not segregated: upper images; segregated clusters: bottom images;  0% initial binaries: left; 30% initial binaries: middle; 60% initial binaries: right
[]same as figure  but in xy plane.
[]same as figure  but in xy plane.
§ neighbor radius
[] of simulated scenes in xz-plane compare to r136 (red dots). blue and green dots belong to the segregated and non-segregated clusters. left: clusters with the mass range of  and right plots are for . upper, middle and bottom plot represents clusters with 0%, 30% and 60% initial binaries.
[] of simulated scenes in xy-plane compare to r136 (red dots). blue and green dots belong to the segregated and non-segregated clusters. left: clusters with the mass range of  and right plots are for . upper, middle and bottom plot represents clusters with 0%, 30% and 60% initial binaries.
§ cumulative surface brightness profiles
[]cumulative sbp for r136 (pink stars) and also for the synthetic simulations at time 2 myr in xz plan with the mass range of . red, blue and black lines represent clusters with 0%, 30% and 60% initial binaries. solid and dashed lines belong to the non-segregated and segregated clusters. we fitted the function () to these data. the value of slope () for r136 and also for an example cluster with 30% binary is:
r136: 
s10seg03bin02m150 (segregated) in three different regions: , , 
s00seg03bin02m150 (non-segregated) in three different regions: , , 
in the core non-segregated cluster has a slope similar to r136.
/edocument/
